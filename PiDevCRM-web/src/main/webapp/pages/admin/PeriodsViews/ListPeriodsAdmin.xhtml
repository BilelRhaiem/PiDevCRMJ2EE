<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:cc="http://java.sun.com/jsf/composite"
	xmlns:my="http://java.sun.com/jsf/composite/my"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
<h:head>


</h:head>
<body id="page-top">
	<div id="wrapper">
		<ui:include src="/template/back-template/header.xhtml" />
		<!-- Main Content -->


		<!-- Topbar -->

		<div class="container-fluid">

			<h:panelGroup>
				<h:form>
					<div align="right">

						<h:commandLink value="Logout" action="#{loginBean.doLogout()}" />
					</div>
					<div align="left">
						<h:commandButton id="btn1" value="Go Home"
							action="#{offersBean.GoHome()}" />
						<h:message for="btn" />
					</div>

				</h:form>
			</h:panelGroup>
			<h:panelGroup>

			</h:panelGroup>
			<h:panelGroup columns="2">
				<h:form enctype="multipart/form-data">
					<hr></hr>
					<div align="center">
						<h2>Create new Time Zone :</h2>
					</div>
					<hr></hr>
					<center>
						<table>
							<tr>
								<td><h:outputText value="Title"></h:outputText></td>
								<td><h:inputText id="Stitle"
										value="#{periodesBean.titlePeriod}" required="true" /></td>
							</tr>
							<tr>
								<td><h:outputText value="Start date"></h:outputText></td>
								<td><h:inputText value="#{periodesBean.startDate}">
										<f:convertDateTime type="date" pattern="dd-MM-yyyy" />
									</h:inputText></td>
							</tr>
							<tr>
								<td><h:outputText value="End Date"></h:outputText></td>
								<td><h:inputText value="#{periodesBean.endDate}">
										<f:convertDateTime type="date" pattern="dd-MM-yyyy" />
										<f:validator validatorId="dateValidator" />
									</h:inputText></td>
							</tr>
							<tr>
								<td colspan="2"><h:commandButton value="Update"
										action="#{periodesBean.updatePeriod()}" /></td>
								<td><h:commandButton id="btn" value="Create"
										action="#{periodesBean.addPeriod()}" disabled="false" /></td>
								<td><my:if
										condition="#{periodesBean.endDate.after(periodesBean.startDate)}">
										<f:facet name="then">
											<h:outputText
												value="the end date must be superieur than the start date"></h:outputText>
										</f:facet>
									</my:if></td>
							</tr>
						</table>
					</center>
				</h:form>
			</h:panelGroup>
			<h:panelGroup columns="2">
				<h:form enctype="multipart/form-data">
					<hr></hr>
					<div align="center">
						<h2>List TimeZone :</h2>
					</div>
					<hr></hr>
					<center>
						<h:dataTable value="#{periodesBean.getPeriods()}" var="item"
							border="1">
							<h:column>
								<f:facet name="header">
									<h:outputText value="Tile" />
								</f:facet>
								<h:outputText value="#{item.titlePeriod}"></h:outputText>
							</h:column>
							<h:column>
								<f:facet name="header">
									<h:outputText value="Start date" />
								</f:facet>

								<h:outputText value="#{item.startDate}">
									<f:convertDateTime type="date" pattern="dd-MM-yyyy" />
								</h:outputText>
							</h:column>
							<h:column>
								<f:facet name="header">
									<h:outputText value="End Date" />
								</f:facet>
								<h:outputText value="#{item.endDate}">
									<f:convertDateTime type="date" pattern="dd-MM-yyyy" />
								</h:outputText>
							</h:column>
							<h:column>
								<f:facet name="header">
									<h:outputText value="Action" />
								</f:facet>
								<h:commandButton
									action="#{periodesBean.deletePeriod(item.idPeriod)}"
									value="Delete" />
								<h:commandButton action="#{periodesBean.displayPeriod(item)}"
									value="Display to modify" />
							</h:column>
						</h:dataTable>
					</center>
				</h:form>
			</h:panelGroup>
		</div>
	</div>

	<ui:include src="/template/back-template/footer.xhtml" />
</body>
</html>

